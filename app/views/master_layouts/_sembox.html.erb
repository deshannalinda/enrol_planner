<%
year = (semester+1)/2
sem = (semester+1)%2+1
numUnits = session[:semesters][count].length
%>
<div class="thumbnail">
	<h4><center>Year <%=year%> Semester <%=sem%></center></h4>

	<div class="caption">
		<!-- display units of current semester. This need to be modify to "semester compatible". -->
		<% if semester < session[:semesters].length %>
			<% session[:semesters][count.to_i].each_with_index do |uid, i| %>
				<% if session[:semesters][count][i].to_i > 0 %>
					<p><%= get_streamunit_name(uid) %></p>
				<% end %>
			<% end %>
		<% else %>
			<% if session[:semesters][count][0] != 0 %>
				<%= select_tag "current_sem", options_from_collection_for_select(Unit.find(session[:semesters][count]), "id", "unitName"), multiple: true, class: "form-control", style: "font-size:12px" %>
			<% end %>
		<% end %>
		<!-- below is for display purpose only. -->

		<!-- buttons -->
		<p><center>
			<% if (semester == session[:semesters].length) %>
				<%= submit_tag "Add", class: "btn btn-default btn-sm", onclick: "changeFlag(2)" %>
				<%= submit_tag "Remove", class: "btn btn-default btn-sm", onclick: "changeFlag(3)" %>
				<%= submit_tag "Done", class: "btn btn-primary btn-sm", onclick: "changeFlag(4)" %>
			<% else %>
				<%= submit_tag "Modify", class: "btn btn-default btn-sm", data: { confirm: "You sure want to modify? Any later semesters will be erased."}, id: count, onclick: "setSemID(this.id, 5)" %>
			<% end %>
		</center></p>
	</div>
</div>